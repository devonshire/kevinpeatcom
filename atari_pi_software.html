<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"> 
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> 
		<meta http-equiv="x-ua-compatible" content="ie=edge"> 
		<meta name="keywords" content="Kevin Peat">
		<meta name="description" content="Kevin Peat - Raspberry Pi / Atari ST Hybrid - Pi Software">
		<meta name="copyright" content="All Original Content Copyright Kevin Peat 2020">
		<title>Kevin Peat - Raspberry Pi / Atari ST Hybrid - Pi Software</title>
		<link href="css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body>
		<div class="container">

			<div class="row">
				<div class="col-lg-12"> 
					<a href="index.html"><img border="0" src="img/banner1200.jpg" alt="Banner"></a>
					<p>&nbsp;</p>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-12"> 
					<h3>Pi Software</h3>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-12"> 
					<a href="atari_pi_components.html">Components</a> | 
					<a href="atari_pi_keyboard_wiring.html">Arduino Wiring</a> | 
					<a href="atari_pi_keyboard_coding.html">Arduino Coding</a> | 
					<a href="atari_pi_mounting.html">Pi Mounting</a> | 
					<a href="atari_pi_software.html">Pi Software</a> | 
					<a href="atari_pi_assembly.html">Final Assembly</a></p>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-6"> 
					<p>I am using the <a href="https://hatari.tuxfamily.org/">Hatari</a> emulator with this project 
					which is available for a number of operating systems including 
					<a href="https://www.raspbian.org/">Raspbian</a> and <a href="https://www.riscosopen.org">RISC OS</a>, 
					both of which will run on the Pi. Although I have read some good things about Hatari performance on RISC OS 
					I decided to use Raspbian because I am much more familiar with it.</p>

					<p>I first set-up Raspbian on a 4GB SD card as per this 
					<a href="https://elinux.org/RPi_Easy_SD_Card_Setup">tutorial</a>.</p>

					<p>I then briefly connected the Pi to the internet to install Hatari using apt-get,</p>
					
					<p><code>sudo apt-get install hatari</code></p>

					<p>You will also need a TOS rom file that contains the Atari operating code. These are easy to find 
					online and various versions are available depending on exactly which Atari ST version you want to emulate. 
					I saved that file as,</p>

					<p><code>/home/pi/atari_tos/TOS104UK.img</code></p>

					<p>If you want to get the Pi to boot directly into Hatari (seems more immersive) you need to do a couple 
					of things. Firstly, to have the Pi auto-login follow these 
					<a href="https://elinux.org/RPi_Debian_Auto_Login">instructions</a>.
					
					</p>Your set-up may vary, but I added the following commands to the end of the file 
					<code>/home/pi/.bashrc</code> which causes the Pi to set the speaker volume (my speaker has no 
					volume control) and to automatically start Hatari:</p>

					<p><code>/usr/bin/amixer -c 0 sset PCM playback 10%</code><br>
					<code>/usr/bin/hatari --fullscreen --tos /home/pi/atari_tos/TOS104UK.img</code></p>

					<p>Normally, Hatari uses the F12 key to bring up its main menu where you can change its settings and load 
					applications. The ST keyboard only has 10 function keys so I mapped F12 to the Atari 'Help' key.</p>

					<p>Depending on which version of the Pi you are using you may need to overclock your Pi to get acceptable 
					performance. There are a number of tutorials available on this subject but take care not 
					to overdo things.</p>

					<p>If you need help with Hatari the documentation is <a href="https://hatari.tuxfamily.org/docs.html">here</a>.</p>

				</div>
				<div class="col-lg-6"> 
					<p align="center"><img src="img/st_bootup.jpg" alt="More Pi" class="img-fluid"></p>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-12"> 
					<p>Return to <a href="index.html">home page</a>.</p>
					<hr>
				</div>
			</div>
		</div>
    
		<script src="js/jquery-3.5.1.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
	</body>
</html>
